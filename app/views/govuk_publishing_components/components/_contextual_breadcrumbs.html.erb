<% navigation = GovukPublishingComponents::Presenters::ContextualNavigation.new(content_item, request.path) %>

<% if navigation.should_present_step_by_step_breadcrumbs? %>
  <!-- Rendering step by step nav -->
  <%= render 'govuk_publishing_components/components/step_by_step_nav_header',
    navigation.step_nav_helper.header %>
<% elsif navigation.should_present_taxonomy_navigation? %>
  <!-- Rendering taxonomy breadcrumbs -->
  <%= render 'govuk_component/breadcrumbs',
    breadcrumbs: navigation.taxon_breadcrumbs[:breadcrumbs],
    collapse_on_mobile: true %>
<% else %>
  <!-- Rendering normal breadcrumbs -->
  <%= render 'govuk_component/breadcrumbs',
    breadcrumbs: navigation.breadcrumbs_based_on_parent %>
<% end %>
