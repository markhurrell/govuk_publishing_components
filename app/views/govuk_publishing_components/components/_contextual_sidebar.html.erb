<% navigation = GovukPublishingComponents::Presenters::ContextualNavigation.new(content_item, request.path) %>

<% if navigation.show_step_by_step_sidebar? %>
  <!-- rendering step by step related items -->
  <%= render 'govuk_publishing_components/components/step_by_step_nav_related',
    links: navigation.step_nav_helper.related_links %>

  <% if navigation.show_step_by_step_item? %>
    <!-- rendering step by step sidebar -->
    <%= render 'govuk_publishing_components/components/step_by_step_nav',
      navigation.step_nav_helper.sidebar %>
  <% end %>
<% elsif navigation.should_present_taxonomy_navigation? %>
  <!-- rendering taxonomy sidebar -->
  <%= render 'govuk_component/taxonomy_sidebar',
    navigation.taxonomy_sidebar %>
<% else %>
  <!-- rendering related navigation sidebar -->
  <%= render 'govuk_publishing_components/components/related_navigation',
    content_item %>
<% end %>
